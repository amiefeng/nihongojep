<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>æ—¥æœ¬èªãƒ¦ãƒ‹ãƒƒãƒˆï¼–ã®æ¼¢å­—</title>
</head>
<body>
    <div class="container">
        <div class="game-container">
            <h1>æ—¥æœ¬èªãƒ¦ãƒ‹ãƒƒãƒˆï¼–ã®æ¼¢å­—</h1>
    
            <div class="board-container">
                <div class="board" id="board"></div>
            </div>
    
            <div class="modal" id="modal">
                <p id="question"></p>
            </div>
        </div>
    
        <div class="scoreboard">
            <h2>ğŸ† Teams</h2>
            <div id="teamList"></div>
    
            <h3>Add New Team</h3>
            <input type="text" id="teamNameInput" placeholder="Enter team name">
            <button onclick="addTeam()">Add Team</button>
        </div>
    </div>
    
    <style>
        /* General Styles */
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
        }
    
        .container {
            display: grid;
            grid-template-columns: 3fr 1fr; /* Game on left, Scoreboard on right */
            height: 100%;
            gap: 10px;
        }
    
        /* Game Section */
        .game-container {
            padding: 20px;
            background-color: white;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }
    
        h1 {
            text-align: center;
            color: #333;
        }
    
        /* Scoreboard */
        .scoreboard {
            background: #fff;
            padding: 20px;
            border: 5px solid #86e3b0;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: -2px 0px 10px rgba(0, 0, 0, 0.1);
            height: 100%;
            box-sizing: border-box;
            width: 100%;
        }
    
        .scoreboard h2 {
            color: #86e3b0;
            font-size: 24px;
            margin-bottom: 10px;
        }
    
        #teamList {
            display: flex;
            flex-wrap: wrap; /* Allow wrapping */
            gap: 10px;
            padding: 15px;
            width: 100%;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #ddd;
            min-height: 120px;
            box-sizing: border-box;
        }
    
        h3 {
            margin-top: 20px;
            color: #333;
        }
    
        input {
            width: 90%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin-top: 5px;
            box-sizing: border-box;
        }
    
        button {
            width: 90%;
            padding: 12px;
            margin-top: 10px;
            background: #86e3b0;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: 0.3s;
            box-sizing: border-box;
        }
    
        button:hover {
            background: #86e3b0;
        }
    </style>

    <script>
        const categories = ["æ„å‘³", "èª­ã¿æ–¹", "æ›¸ã", "ä¾‹ãˆã°", "BONUS"];

// Dictionary with proper questions and answers, with optional image URLs
const questionsData = {
    "æ„å‘³": [
        { question: "ä¸–ç•Œçš„", answer: "global; international", image: "" },
        { question: "æŠ€é‡", answer: "ability; skill", image: "" },
        { question: "é ‚æˆ´(ã™ã‚‹)", answer: "receiving; reception", image: "" }, 
        { question: "é®æ–­(ã™ã‚‹)", answer: "cut off; insulate", image: "" },
        { question: "ç¹°ã‚Šè¿”ã™", answer: "to repeat; do over again", image: "" }
    ],
    "èª­ã¿æ–¹": [
        { question: "æ˜“ã„", answer: "ã‚„ã™ã„", image: "" },
        { question: "éš£", answer: "ã¨ãªã‚Š", image: "" },
        { question: "ç¶ºéº—", answer: "ãã‚Œã„", image: "" },
        { question: "æˆåŠŸ", answer: "ã›ã„ã“ã†", image: "" },
        { question: "å‰µé€ ", answer: "ãã†ãã†", image: "" },
    ],
    "æ›¸ã": [
        { question: "ã•ã„", answer: "æ­³", image: "" },
        { question: "ã”ã‚‰ã", answer: "å¨¯æ¥½", image: "" },
        { question: "ã‚Œã‚“ã•", answer: "é€£é–", image: "" },
        { question: "ãã‚‡ã†ã›ã", answer: "æ¥­ç¸¾", image: "" },
        { question: "ã‹ã‚“ãªã‚“ã—ã‚“ã", answer: "è‰±é›£è¾›è‹¦", image: "" }
    ],
    "ä¾‹ãˆã°": [
        { question: "æ¥é€±ã€å¯Œå£«å±±ã‚’___ã€‚", answer: "ç™»ã£ãŸ", image: "" },
        { question: "å…ˆç”Ÿã¯ç”Ÿå¾’ã«å®¿é¡Œã‚’___ã€‚", answer: "ä¸ãˆã‚‹", image: "" },
        { question: "ATMã¯ãŠé‡‘ã‚’å¼•ãå‡ºã—ãŸã‚Šé ã‘ãŸã‚Šã§ãã‚‹________ã§ã™ã€‚", answer: "æ©Ÿæ¢°", image: "" },
        { question: "ãã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã“ã¡ã‚‰ã«________ã§ãã¾ã™ã‹?", answer: "é ‚æˆ´", image: "" },
        { question: "å„ªã‚ŒãŸ________ã‚’æŒã¤è·äººãŒã“ã®å®¶å…·ã‚’ä½œã£ãŸã€‚", answer: "æŠ€é‡", image: "" }
    ],
    "BONUS": [
        { question: "ãˆã‚’ä½¿ã£ãŸã‚‰ã€è¨€è‘‰ã‚’æ¨æ¸¬ã—ã¦ãã ã•ã„ã€‚", answer: "ç™»ã‚‹", image: "images/climb.jpg" },
        { question: "ãˆã‚’ä½¿ã£ãŸã‚‰ã€è¨€è‘‰ã‚’æ¨æ¸¬ã—ã¦ãã ã•ã„ã€‚", answer: "æºå¸¯é›»è©±", image: "images/phone.jpg" },
        { question: "ãˆã‚’ä½¿ã£ãŸã‚‰ã€è¨€è‘‰ã‚’æ¨æ¸¬ã—ã¦ãã ã•ã„ã€‚", answer: "è¤’ã‚ã‚‹", image: "images/thumb.jpg" },
        { question: "ãˆã‚’ä½¿ã£ãŸã‚‰ã€è¨€è‘‰ã‚’æ¨æ¸¬ã—ã¦ãã ã•ã„ã€‚", answer: "æŒ¯ã‚Šè¿”ã‚‹", image: "images/look.jpg" },
        { question: "ãˆã‚’ä½¿ã£ãŸã‚‰ã€è¨€è‘‰ã‚’æ¨æ¸¬ã—ã¦ãã ã•ã„ã€‚", answer: "é£½ã", image: "images/bored.png" }
    ]
};

    // Generate questions array for the board
        const questions = [];

        for (let row = 0; row < 5; row++) {
            categories.forEach((category) => {
                questions.push({
                    category: category,
                    question: questionsData[category][row].question,
                    answer: questionsData[category][row].answer,
                    image: questionsData[category][row].image,
                    points: (row + 1) * 100
                });
            });
        }

        const board = document.getElementById("board");
        const modal = document.getElementById("modal");
        const questionText = document.getElementById("question");
        const answerText = document.createElement("p");
        answerText.style.display = "none"; // Hide answer initially
        modal.appendChild(answerText);

        // Create the "Reveal Answer" and "Close" buttons once (outside of the openQuestion function)
const revealButton = document.createElement("button");
revealButton.innerText = "Reveal Answer";
revealButton.onclick = () => {
    answerText.style.display = "block"; // Show the answer
    showTeamSelection(); // Show team selection when answer is revealed
};

const closeButton = document.createElement("button");
closeButton.innerText = "Close";
closeButton.onclick = () => {
    modal.style.display = "none";
    answerText.style.display = "none"; // Hide answer for the next question
};



function openQuestion(index, cell) {
    const currentQuestion = questions[index];
    questionText.innerText = currentQuestion.question;
    answerText.innerText = `Answer: ${currentQuestion.answer}`;
    answerText.style.display = "none"; // Hide answer initially
    modal.style.display = "block";
    cell.classList.add("clicked");

    // Clear any previously displayed image (in case a new question has an image)
    const existingImage = modal.querySelector("img");
    if (existingImage) {
        existingImage.remove();
    }

    // Check if there is an image for this question
    if (currentQuestion.image && currentQuestion.image !== "") {
        const questionImage = document.createElement("img");
        questionImage.src = currentQuestion.image; // Set the image source
        questionImage.alt = "Question Image";
        questionImage.style.maxWidth = "50%"; // Make the image responsive
        questionImage.style.marginTop = "10px"; // Add some space between question and image
        modal.appendChild(questionImage); // Append the image to the modal
    }

    // Store points for this question
    awardPointsContainer.dataset.points = currentQuestion.points;
    awardPointsContainer.style.display = "none"; // Hide the team selection initially

    // Append the buttons to the modal
modal.appendChild(revealButton);
modal.appendChild(closeButton);
}

        const awardPointsContainer = document.createElement("div");
        awardPointsContainer.style.display = "none"; // Initially hidden
        modal.appendChild(awardPointsContainer);

        function loadBoard() {
            categories.forEach(category => {
                let categoryCell = document.createElement("div");
                categoryCell.classList.add("category");
                categoryCell.innerText = category;
                board.appendChild(categoryCell);
            });

            questions.forEach((q, index) => {
                let cell = document.createElement("div");
                cell.classList.add("cell");
                cell.innerText = `$${q.points}`;
                cell.onclick = () => openQuestion(index, cell);
                board.appendChild(cell);
            });
        }

       

        const teams = [];

        // Team management functions
        function addTeam() {
            const teamName = document.getElementById("teamNameInput").value;
            if (teamName) {
                const newTeam = { name: teamName, score: 0 };
                teams.push(newTeam);
                displayTeams();
                document.getElementById("teamNameInput").value = ""; // Clear input field
            }
        }

        function showTeamSelection() {
    awardPointsContainer.innerHTML = "<h3>Award Points:</h3>";
    awardPointsContainer.style.display = "block"; // Make it visible

    teams.forEach((team, index) => {
        let teamButton = document.createElement("button");
        teamButton.textContent = team.name;
        teamButton.style.display = "inline-block"; // Makes buttons line up horizontally
        teamButton.style.width = "20%";
        teamButton.style.margin = "5px"; // Small spacing for clarity
        teamButton.style.padding = "5px 10px"; // Make buttons easier to click
        teamButton.style.cursor = "pointer"; // Indicate it's clickable

        teamButton.onclick = () => {
            adjustScore(index, parseInt(awardPointsContainer.dataset.points));
            awardPointsContainer.style.display = "none"; // Hide after selecting
            modal.style.display = "none"; // Close modal
        };

        awardPointsContainer.appendChild(teamButton);
    });
}

        function displayTeams() {
            teamList.innerHTML = ""; // Clear the team list before redisplaying
            teams.forEach((team, index) => {
            let teamDiv = document.createElement("div");
            teamDiv.classList.add("team-item"); // Add a class for styling later
            
            let teamName = document.createElement("h3");
            teamName.textContent = team.name;

            let teamScore = document.createElement("p");
            teamScore.innerHTML = `Score: <span id="scoreTeam${index}">${team.score}</span>`;
            
            let scoreControls = document.createElement("div");
            scoreControls.classList.add("score-controls");

            let plusButton = document.createElement("button");
            plusButton.textContent = "+100";
            plusButton.onclick = function() {
                adjustScore(index, 100);
            };

            let minusButton = document.createElement("button");
            minusButton.textContent = "-100";
            minusButton.onclick = function() {
                adjustScore(index, -100);
            };

            // Append elements in order
            scoreControls.appendChild(plusButton);
            scoreControls.appendChild(minusButton);
            teamDiv.appendChild(teamName);
            teamDiv.appendChild(teamScore);
            teamDiv.appendChild(scoreControls);

            teamList.appendChild(teamDiv);
        });
}

        function adjustScore(teamIndex, points) {
            teams[teamIndex].score += points;
            document.getElementById(`scoreTeam${teamIndex}`).innerText = teams[teamIndex].score;
            displayTeams(); // Update the displayed score
        }

        function updateManualScore(teamIndex, value) {
            let newScore = parseInt(value, 10);
            if (!isNaN(newScore)) {
                teams[teamIndex].score = newScore;
                document.getElementById(`scoreTeam${teamIndex}`).innerText = newScore;
            }
        }

        loadBoard();
    </script>
</body>
</html>